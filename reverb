#!/usr/bin/jruby

require 'unimidi'
require_relative 'midi'

sysex = MIDI::SYSEX
id = 0x41
did = 0x10
mid0 = 0x00
mid1 = 0x00
mid2 = 0x00
mid3 = 0x0E
mid4 = 0x12
address = address(0x19000000, 0x0200, 0x0003)
data = 0x64
checksum = checksum(address, data)
sysex_end = MIDI::SYSEX_END

message = [
  sysex,
  id,
  did,
  mid0, mid1, mid2, mid3, mid4
]
message += int_to_byte_array(address)
message += [
  data,
  checksum,
  sysex_end
]


puts MIDI.b10_array_to_hex_array_s(message)

output = UniMIDI::Output.find_by_name("UR22 [hw:1,0,0]").open
output.puts(message)
